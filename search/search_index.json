{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#data-layer-technical-specification","title":"Data Layer Technical Specification","text":""},{"location":"#overview","title":"Overview","text":"<p>This document outlines the specific changes requested of Michael Kors IT/Dev to implement events using Digital Data layer and to begin leveraging Launch for event tagging.</p> <p>NOTE: The object examples provided in this document should be functional, but it\u2019s highly recommended that they not be copied and pasted. The apostrophes can be unusable when copied and pasted.</p> <p>An assumption has also been made that there is already a data layer implemented according to the data layer documentation. As a result, this document is only focused on the event object and utilizing custom browser events to notify Launch that an event has occurred.</p>"},{"location":"#data-layer-rendering-and-timing-considerations","title":"Data Layer Rendering and Timing Considerations","text":"<p>Where on the page should the data layer go and how should it be implemented? The general answer to this question is, \u201cAs close to the top of the document as possible, before the Adobe Launch embed, ideally within the <code>&lt;head&gt;</code> and as JavaScript within an inline <code>&lt;script&gt;</code> tag\u201d. The broader answer is that the <code>mkorsData</code> object should be implemented so that it can be referenced at window scope and so that the data that it provides is there before it is needed.</p> <p>Any information that might be used by Adobe Launch as a rule condition should be rendered into the HTML page prior to the Adobe Launch header embed. This is typically the information in the <code>mkorsData.page</code> object as it is very common to set up rule conditions based on page type or category. Any information that is crucial for driving A/B testing or content targeting activities that need to happen as a part of page rendering should be included above the Adobe Launch header embed.</p> <p>It is perfectly OK to build the <code>mkorsData</code> object in multiple inline scripts as long as the data provided is there before it is needed by Adobe Launch. This means that you can render some of it above the Adobe Launch header embed and another part just before the Adobe Launch synchronous footer call <code>_satellite.pageBottom()</code> before the closing <code>body</code> tag. Since the majority of analytics and marketing tags are Adobe Launch page bottom rules (triggered by the <code>_satellite.pageBottom()</code> call), as long as the info in the <code>mkorsData</code> object needed by these rules (product info, cart info, page info, etc) is populated before the <code>pageBottom</code> call, everyone will be happy. </p> <p>In some cases, it may be necessary to provide some static parts of the <code>mkorsData</code> object as part of cached components or cached HTML while providing other, more dynamic data via AJAX calls or similar technologies. This is often true of user profile information, or e-commerce cart info. In these cases, it\u2019s just fine to populate the core of the <code>mkorsData</code> object from cached inline JS and the dynamic portions from asynchronous (or synchronous) request / responses.  The guidance still applies that the data must exist in the <code>mkorsData</code> object when or before Adobe Launch expects it to be there. In the case of data provided by asynchronous methods, we may need to have Adobe Launch wait for a notification before processing data. See Custom Events below for more on this.</p> <p>If it is not possible to fully create the data layer prior to the Adobe Launch embed code, it is vital that the data layer is fully created prior to dispatching the <code>dataLayerReady</code> custom event found in the customEvent - Data Layer Complete section towards the end of this document.</p>"},{"location":"events/","title":"Custom Events","text":""},{"location":"events/#event-information","title":"Event Information","text":"<p>The event array will be a collection of events that occur during a user\u2019s interaction with the web application.</p> <p>In order to standardize the triggers for user interactions with the application, we have followed the specification for events to be included in the JSO. This will allow Launch to gather data as needed without additional DOM searching or other methods.</p> <p>The following is an example of the <code>mkorsData.event</code> array with an event object having been pushed to it:</p> <pre><code>mkorsData.event: [\n{\neventInfo: {\neventCondition: \"condition name\",\neventAction: \"sample action\",\neventName: \"Sample Name\",\nmiscProp: \"Sample Other Property\",\n}\n}\n]\n</code></pre>"},{"location":"events/#creating-and-dispatching-custom-events","title":"Creating and Dispatching Custom Events","text":"<p>Launch will listen for custom browser events to occur, and fire corresponding rules to send necessary data to analytics platforms and/or marketing pixel vendors.</p> <p>Below are code samples for creating and dispatching custom browser events. This solution has been tested on multiple browsers and platforms.</p> <p>Browser support:   - Chrome 35+   - Firefox 10+   - Edge 20+   - Safari 7+   - mobile Safari 6.1+   - IE8+</p>"},{"location":"events/#javascript","title":"JavaScript","text":"<p>Since different browsers handle custom event dispatching differently, this solution uses feature detection to check for certain functionality in order to ensure cross browser compatibility. For custom event support in IE8 and IE9, a polyfill is required.</p> <p>The polyfill script (see appendix for source) should be included similar to this example: <pre><code>&lt;!--[if lte IE 9]&gt;&lt;script src=\"assets/js/ie/ie8eventlistener.min.js\" &gt;&lt;/script&gt;&lt;![endif]--&gt;\n</code></pre></p> <p>In order to eliminate code duplication and to simplify the dispatching of events, it is recommended that a function be used to handle the browser compatibility check. The event name is passed into the function as a string.</p> <pre><code>/**\n * Creates and dispatches an event trigger\n * @param {String} evt - The name of the event\n */\nfunction sendCustomEvent(evt){\nif (document.createEvent &amp;&amp; document.body.dispatchEvent) {\nvar event = document.createEvent('Event');\nevent.initEvent(evt, true, true); // can bubble, and is cancellable\ndocument.body.dispatchEvent(event);\n} else if (window.CustomEvent &amp;&amp; document.body.dispatchEvent) {\nvar event = new CustomEvent(evt, {\nbubbles: true, cancelable: true });\ndocument.body.dispatchEvent(event);\n}\n}\n</code></pre> <p>To dispatch an event, the <code>sendCustomEvent</code> function would called like so:</p> <pre><code>sendCustomEvent('customEventTest');\n</code></pre>"},{"location":"events/#exposing-data-to-launch","title":"Exposing Data to Launch","text":"<p>The data consumed by Launch will be pulled from the <code>event</code> array, as well as <code>page</code>, <code>product</code>, and other members of the <code>mkorsData</code> object.</p>"},{"location":"events/#testing-and-debugging","title":"Testing and Debugging","text":"<p>In order to debug the Launch functionality that has not yet been deployed to production, you will need to install the Adobe Launch/DTM Switch browser extension for Chrome. Set the browser extension to \u201cdebug\u201d and \u201cstaging\u201d in order to see the staging library and the debug information in the console.</p> <p>Rules have been set up in Launch to listen for the specific custom events described in this document to fire in the DOM (on the <code>BODY</code> element): When one of the events is dispatched, you will see the event identified in the browser\u2019s developer console like this: </p> <p></p> <p>The first line will identify the event that fired, and the second line will represent the <code>mkorsData.event</code> array. The <code>mkorsData.event</code> array should be populated before the custom event is dispatched.</p>"},{"location":"events/#ie8-event-polyfill","title":"IE8 event polyfill","text":"<p>Below is the polyfill, for the support of custom events on IE8 and IE9. This file is referenced in this document as <code>ie8eventlistener.min.js</code> <pre><code>window.Element&amp;&amp;window.Element.prototype.attachEvent&amp;&amp;!window.Element.prototype.addEventListener&amp;&amp;function(){function e(e,t){window.Window.prototype[e]=window.HTMLDocument.prototype[e]=window.Element.prototype[e]=t}function t(e){t.interval&amp;&amp;document.body&amp;&amp;(t.interval=clearInterval(t.interval),document.dispatchEvent(new CustomEvent(\"DOMContentLoaded\")))}e(\"addEventListener\",function(e,t){var n=this,o=n.addEventListener.listeners=n.addEventListener.listeners||{},r=o[e]=o[e]||[];r.length||n.attachEvent(\"on\"+e,r.event=function(e){var t,o,a=n.document&amp;&amp;n.document.documentElement||n.documentElement||{scrollLeft:0,scrollTop:0},i=0,l=[].concat(r),c=!0,d=0;for(e.currentTarget=n,e.pageX=e.clientX+a.scrollLeft,e.pageY=e.clientY+a.scrollTop,e.preventDefault=function(){e.returnValue=!1},e.relatedTarget=e.fromElement||null,e.stopImmediatePropagation=function(){c=!1,e.cancelBubble=!0},e.stopPropagation=function(){e.cancelBubble=!0},e.target=e.srcElement||n,e.timeStamp=+new Date,i=0;c&amp;&amp;(t=l[i]);++i)for(d=0;o=r[d];++d)if(o===t){o.call(n,e);break}}),r.push(t)}),e(\"removeEventListener\",function(e,t){var n,o,r=this,a=r.addEventListener.listeners=r.addEventListener.listeners||{},i=a[e]=a[e]||[];for(o=i.length-1;n=i[o];--o)if(n===t){i.splice(o,1);break}!i.length&amp;&amp;i.event&amp;&amp;r.detachEvent(\"on\"+e,i.event)}),e(\"dispatchEvent\",function(e){var t=this,n=e.type,o=t.addEventListener.listeners=t.addEventListener.listeners||{},r=o[n]=o[n]||[];try{return t.fireEvent(\"on\"+n,e)}catch(a){return void(r.event&amp;&amp;r.event(e))}}),Object.defineProperty(Window.prototype,\"CustomEvent\",{get:function(){var e=this;return function(t,n){var o,r=e.document.createEventObject();r.type=t;for(o in n)\"cancelable\"===o?r.returnValue=!n.cancelable: \"bubbles\"===o?r.cancelBubble=!n.bubbles: \"detail\"===o&amp;&amp;(r.detail=n.detail);return r}}}),t.interval=setInterval(t,1),window.addEventListener(\"load\",t)}(),(!this.CustomEvent||\"object\"==typeof this.CustomEvent)&amp;&amp;function(){this.CustomEvent=function(e,t){var n;t=t||{bubbles:!1,cancelable:!1,detail:void 0};try{n=document.createEvent(\"CustomEvent\"),n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail)}catch(o){n=document.createEvent(\"Event\"),n.initEvent(e,t.bubbles,t.cancelable),n.detail=t.detail}return n}}();\n</code></pre></p>"},{"location":"events/accountCreationSuccess/","title":"Account Creation Success","text":"<p>Executed when a customer successfully creates an account.</p>"},{"location":"events/accountCreationSuccess/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddAccountCreationSuccessEvent = {\neventInfo: {\neventName: \"accountCreationSuccess\",\ntype: \"account\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: true,\ncustomerType: \"customer\",\nemailOptIn: true,\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\nloyaltyOptIn: true,\ntype: \"registered\"\n} }\n]\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddAccountCreationSuccessEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"accountCreationSuccess\");\n</code></pre>"},{"location":"events/accountCreationSuccess/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"accountCreationSuccess\"</code> type string Yes The event type <code>\"account\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/accountCreationSuccess/#user-properties","title":"User Properties","text":"<p>The <code>user</code> array contains objects which describe individual users. In most cases there will only ever be a single object.</p>"},{"location":"events/accountCreationSuccess/#profile-properties","title":"Profile Properties","text":"<p>The <code>profile</code> array contains objects which describe one or more profiles associated with a user. Again, this will almost always be one. Objects in this array themselves have only a single property, <code>profileInfo</code> (see below).</p>"},{"location":"events/accountCreationSuccess/#profile-info-properties","title":"Profile Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of applePayEnabled boolean Yes if logged in Whether or not the user has Apple Pay enabled <code>true</code>, <code>false</code> customerType string Yes if logged in Customer type <code>\"customer\"</code>, <code>\"employee\"</code>, <code>\"associate\"</code> emailOptIn boolean Yes if logged in Whether the user has confirmed email opt in <code>true</code>, <code>false</code> hashedID string Yes if logged in md5 hash of email address <code>\"7ddb5eae16468674b843f396b335a7dd\"</code> hashedID2 string Yes if logged in sha256 hash of email address <code>\"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"</code> loginStatus string Yes Customer login status <code>\"logged_in\"</code>, <code>\"logged_out\"</code> loyaltyTier string Yes if logged in Customer loyalty tier <code>\"studio\"</code>, <code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red_carpet\"</code>, <code>\"non-loyalty\"</code> type string Yes User type <code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code>"},{"location":"events/accountCreationSuccess/#notes","title":"Notes","text":"<p><code>hashedID</code>s in the <code>user[n].profile[n]</code> object are one-way hashes of the customer\u2019s email address. See notes on Sign In Success for more details on this field.</p>"},{"location":"events/addToCart/","title":"Add to Cart","text":"<p>Executed when the user initially adds item(s) to the cart from product detail pages, quickview pages, or wishlist. Quantity update of a product on the shopping cart page will be handled via a separate event. Any other place that causes an item or items to be added to the cart should follow this pattern. In the case of an update to an item that changes from one sku to another, there will be both a cart remove and a cart add.</p>"},{"location":"events/addToCart/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddAddToCartEvent = {\neventInfo: {\neventName: \"addToCart\",\ntype: \"cart\",\norderType: \"regular\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\nbasePrice: 198.0,\ncrossSellCartridge: \"\",\nengraved: true,\ngwp: false,\ngwpSku: \"\",\nisBaseItem: true,\nisCrossSell: false,\nlookID: \"\",\nmfr: \"MICHAEL Michael Kors\",\nmfrItemNum: \"32T9UF5C2Y\",\nmonogrammed: false,\npricePer: 198.0,\npriceType: \"list\",\nproductID: \"287781019\",\nquantity: 1,\nupc: \"192877810193\",\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddAddToCartEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('addToCart');\n</code></pre>"},{"location":"events/addToCart/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"addToCart\"</code> type string Yes The event type <code>\"cart\"</code> orderType string Yes The order type <code>\"regular\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/addToCart/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> crossSellCartridge string ? ? engraved boolean If available Whether or not the customer added an engraving <code>true</code>, <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Whether the item is the base item <code>true</code>, <code>false</code> isCrossSell boolean Yes Whether or not the item is cross sell eligible <code>true</code>, <code>false</code> lookID string If available Look ID mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer monogrammed boolean If available Whether the item has had a monogram added to it <code>true</code>, <code>false</code> pricePer number Yes Displayed unit price of item <code>445.0</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> quantity number No How many of the item were added to the cart <code>1</code> upc string Yes Universal purchase code ID"},{"location":"events/addToWishlist/","title":"Add to Wishlist","text":"<p>Executed anywhere the user chooses to add item(s) to the wishlist. This can happen from product detail pages, quickview pages, shopping cart, or as a result of a quantity update on the wishlist itself page. Any other places that cause an item or items to be added to the wishlist should follow this pattern. In the case of an update to an item that changes from one Fabric/Color to another, there will be both a wishlist remove and a wishlist add.</p>"},{"location":"events/addToWishlist/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddAddToWishListEvent = {\neventInfo: {\neventName: \"addToWishList\",\ntype: \"wishList\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\nbasePrice: 145.0,\ngwp: \"N\",\ngwpSku: \"\",\nisBaseItem: true,\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\nmonogrammed: false,\noutfitID:  \"28415181\",\npricePer: 145.0,\npriceType: \"list\",\nproductID: \"831879309\",\nquantity: 2 upc: \"888318793094\",\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddAddToWishListEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('addToWishList');\n</code></pre>"},{"location":"events/addToWishlist/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"addToWishList\"</code> type string Yes The event type <code>\"wishlist\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/addToWishlist/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Yes Whether or not the item is the base item <code>true</code>, <code>false</code> mfr string Yes Manufacturer of the item <code>\"michael kors\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"ABC123\"</code> outfitID string If available The outfit ID <code>\"12345\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> quantity number No How many of the item were added to the wishlist <code>1</code> upc string Yes Universal purchase code ID"},{"location":"events/colorSelection/","title":"Color Selection","text":""},{"location":"events/colorSelection/#color-selection","title":"Color Selection","text":"<p>Executed anywhere the user chooses to select the color of a product. This can happen from product detail pages and quickview pages on the site today (non-responsive site).</p> <pre><code>// Create object with eventInfo and product object\nvar ddColorSelectionEvent = {\neventInfo: {\neventName: \"colorSelection\",\ntype: \"product interaction\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed\n}\n},\nproduct: [ // Use an array even though this will most likely always be a single item\n{\ncolorCode: \"BLACK\",\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\nproductID: \"831879309\",\nupc: \"888318793094\"\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddColorSelectionEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"colorSelection\");\n</code></pre> Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of colorCode string Color code <code>\"BLACK\"</code> mfr string Manufacturer of the item <code>\"Michael Kors\"</code> mfrItemNum string ID used by manufacturer <code>\"CB99A5G0UK\"</code> productID string Product ID <code>\"4952115\"</code> upc string Universal purchase code ID <code>\"888318793094\"</code>"},{"location":"events/dataLayerComplete/","title":"Data Layer Complete","text":"<p>This event will notify Adobe Launch that all applicable components of the data layer have fully loaded, so Adobe Launch will know it\u2019s safe to start evaluating rules for sending analytics or marketing vendor data. This event should be dispatched on every page load, whether it is a \u201ctraditional\u201d page load or a SPA page change.</p>"},{"location":"events/dataLayerComplete/#code-example","title":"Code Example","text":"<p>The example below is just the event, and should be executed after any page load data layer scenarios have been instantiated on the page as normal.</p> <pre><code>// data layer ready example\n// assuming data layer object already exists and is populated with up to date information\nwindow.mkorsData = {\npage: {/*...*/},\nuser: [\n{/*...*/}\n]\n};\n// Create and dispatch an event trigger\nsendCustomEvent(\"dataLayerReady\");\n</code></pre>"},{"location":"events/emailSubscriptionSuccess/","title":"Email Subscription Success","text":"<p>Executed when a customer submitted email is successfully subscribed. This event services the stand-alone email subscription flows such as the footer subscription or subscription from the new visitor lightbox. This event should not be sent when a user subscribes as part of an account creation activity or within the process of placing an order. </p>"},{"location":"events/emailSubscriptionSuccess/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddEmailSubscriptionSuccessEvent = {\neventInfo: {\neventName: \"emailSubscriptionSuccess\",\ntype: \"account\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed \n}\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddEmailSubscriptionSuccessEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"emailSubscriptionSuccess\");\n</code></pre>"},{"location":"events/emailSubscriptionSuccess/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"emailSubscriptionSuccess\"</code> type string Yes The event type <code>\"account\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/emailSubscriptionSuccess/#notes","title":"Notes","text":"<p>The primary purpose of this custom event is to tell Launch that an email subscription activity succeeded. This is much more robust than just tracking a button click when the customer clicks, \u201cSubscribe\u201d. Launch will derive the context of the event (Lightbox, footer, et al) from other client-side information.</p>"},{"location":"events/errorEvent/","title":"Errors","text":"<p>Executed to support tracking of client-side exceptions. This event should be called when errors are presented as feedback to customer actions. A typical use case is when a customer has filled out a form and clicks \u201cContinue\u201d to submit the information or to go to the next step but the application indicates that there are some issues with the information entered. For instance, in the checkout flow, if the information entered for the shipping step fails validation, the user will be notified and directed to resolve the issue(s). </p> <p>If a single user action triggers multiple errors, each error will be represented as an object in the error array of the ddErrorEvent object.</p>"},{"location":"events/errorEvent/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddErrorEvent = {\neventInfo: {\neventName: \"errorEvent\",\ntype: \"customer facing error\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n},\nerror: [\n{\nerrorType: \"emailSubscription\",\nerrorCode: \"EM-22\",\nerrorMessage: \"Email Address is already subscribed.\"\n}\n]\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddErrorEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"errorEvent\");\n</code></pre>"},{"location":"events/errorEvent/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"errorEvent\"</code> type string Yes The event type <code>\"customer facing error\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code> error array Yes See Error Properties below"},{"location":"events/errorEvent/#error-properties","title":"Error Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of errorType string Yes The type of error thrown <code>\"emailSubscription\"</code> errorCode string Yes The error code of the error thrown <code>\"EM-22\"</code> errorMessage string Optional The error text presented to the user <code>\"Email Address is already subscribed.\"</code>"},{"location":"events/errorEvent/#notes","title":"Notes","text":"<p>This is a general framework for collecting client-side exception information in Adobe Analytics via Launch. This can be used for both customer facing errors and silent application errors if there is a desire to track them. The <code>errorType</code>, <code>errorCode</code>, and <code>errorMessage</code> values are provided as an example of how the error information could be passed. If there is already a structure for this info the application, we can modify this object to fit.</p> <p>The ideal scenario is that error tracking will be in English regardless of the country or language that the user has chosen. This was the thought behind <code>errorCode</code>\u2014that it would be language neutral and that a dictionary of information keyed by <code>errorCode</code> could be uploaded to Adobe Analytics as a one time operation.</p>"},{"location":"events/errorEventOrderSubmit/","title":"Order Submit Errors","text":"<p>This custom event is a specialization of the more general <code>errorEvent</code> for JIRA story ECB-13570.</p> <p>In addition to the normal <code>error</code> object, this event will carry a <code>product</code> array which includes those products which must be removed from the cart due to inventory issues.</p>"},{"location":"events/errorEventOrderSubmit/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddErrorEvent = {\neventInfo: {\neventName: \"errorEventOrderSubmit\",\ntype: \"customer facing error\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n},\nerror: [\n{\nerrorType: \"orderSubmitInventory-case_1\",\nerrorCode: \"EM-22\",\nerrorMessage: \"Product Out of Stock.\"\n}\n],\nproduct: [\n{\navailability: false,\nbasePrice: 45.0,\ncustomized: true,\ngwp: \"N\",\ngwpSku: \"\",\nisBaseItem: true,\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB94C6LEX8\",\noutfitID:  \"28415181\",\npickUpInStore: false,\npickUpStoreID: \"\",\npricePer: 25.0,\npriceType: \"markdown\",\nproductID: \"831879150\",\nquantity: 1,\nupc: \"888318791502\",\n}\n]\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddErrorEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"errorEventOrderSubmit\");\n</code></pre>"},{"location":"events/errorEventOrderSubmit/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"errorEvent\"</code> type string Yes The event type <code>\"customer facing error\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code> error array Yes See Error Properties below"},{"location":"events/errorEventOrderSubmit/#error-properties","title":"Error Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of errorType string Yes The type of error thrown <code>\"orderSubmitInventory-case_1\"</code> errorCode string Yes The error code of the error thrown <code>\"EM-22\"</code> errorMessage string Optional The error text presented to the user <code>\"Product Out of Stock.\"</code>"},{"location":"events/errorEventOrderSubmit/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of availability boolean Yes Whether or not the product is available for purchase <code>true</code>, <code>false</code> basePrice number Yes Base unit price of item <code>445.00</code> customized boolean Yes Whether or not the item has been customized <code>true</code>, <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? mfr string Yes Manufacturer of the item <code>\"MICHAEL KORS\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"30H6GRXE3L\"</code> pickUpStoreID string Only if <code>pickUpInStore</code> is <code>true</code> The ID of the store where the customer chose to pick up the item <code>\"637\"</code> pickUpStoreName string Only if <code>pickUpInStore</code> is <code>true</code> The name of the store where the customer chose to pick up the item <code>\"MICHAEL KORS TACOMA\"</code> pickUpInStore boolean Only on Order Confirmation screen Whether the customer chose to pick up the item at the store instead of having it shipped <code>true</code>, <code>false</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> quantity number No How many of the item were added to the cart <code>1</code> upc string Yes Universal purchase code ID <code>\"194900989333\"</code>"},{"location":"events/errorEventOrderSubmit/#notes","title":"Notes","text":"<p>The <code>product</code> array represents all products that must be removed in order to proceed. This would include base product + baubles for a Custom Kors combination. This would include a product + GWP if that GWP is tied to a product which has gone out of stock.</p>"},{"location":"events/imageInteraction/","title":"Image Interaction","text":"<p>Executed on a product detail page and quick view when the user interacts with the different image actions.</p>"},{"location":"events/imageInteraction/#code-example","title":"Code Example","text":"<pre><code>//create object with eventInfo and product object\nvar ddImageInteractionEvent = {\neventInfo: {\neventName: \"imgInteraction\",\ninteractionType: \"zoom\",\ntype: \"product interaction\",    timeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\navailability: true,\nbasePrice: 98.00,\ncolor: \"TRUE NAVY\",\nmfr: \"MICHAEL Michael Kors\",\nmfrItemNum: \"MF98Z5M65N\",\npricePer: 98.00,\npriceType: \"list\",\nproductID: \"831879309\",\nsize: \"small\",\nupc: \"888318793094\"\n}\n]\n};\n//Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddImageInteractionEvent);\n//Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"ddImageInteractionEvent\");\n</code></pre>"},{"location":"events/imageInteraction/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"errorEvent\"</code> interactionType string If available The type of interaction triggering the event <code>\"zoom\"</code> type string Yes The event type <code>\"customer facing error\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/imageInteraction/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of availability boolean If available Whether or not the product is available for purchase <code>true</code>, <code>false</code> basePrice number Yes Base unit price of item <code>445.00</code> color string Only if the product has a color choice Color code <code>\"black\"</code> mfr string Yes Manufacturer of the item <code>\"MICHAEL KORS\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"30H6GRXE3L\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> size string Only if product has a size choice Size code <code>\"large\"</code>, <code>\"12\"</code> upc string Yes Universal purchase code ID"},{"location":"events/loyaltyOptOutSuccess/","title":"Loyalty Opt Out Success","text":"<p>Executed when an existing registered loyalist successfully leaves the loyalty program.</p>"},{"location":"events/loyaltyOptOutSuccess/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddLoyaltyOptOutpSuccessEvent = {\neventInfo: {\neventName: \"loyaltyOptOutSuccess\",\ntype: \"account\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\ncustomerType: \"customer\",\nemailOptIn: true,\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\ntype: \"registered\",\n} }\n]\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddLoyaltyOptOutpSuccessEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"loyaltyOptOutSuccess\");\n</code></pre>"},{"location":"events/loyaltyOptOutSuccess/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"loyaltyOptOutSuccess\"</code> type string Yes The event type <code>\"account\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/loyaltyOptOutSuccess/#user-properties","title":"User Properties","text":"<p>The <code>user</code> array contains objects which describe individual users. In most cases there will only ever be a single object.</p>"},{"location":"events/loyaltyOptOutSuccess/#profile-properties","title":"Profile Properties","text":"<p>The <code>profile</code> array contains objects which describe one or more profiles associated with a user. Again, this will almost always be one. Objects in this array themselves have only a single property, <code>profileInfo</code> (see below).</p>"},{"location":"events/loyaltyOptOutSuccess/#profile-info-properties","title":"Profile Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of customerType string Yes if logged in Customer type <code>\"customer\"</code>, <code>\"employee\"</code>, <code>\"associate\"</code> emailOptIn boolean Yes if logged in Whether the user has confirmed email opt in <code>true</code>, <code>false</code> hashedID string Yes if logged in md5 hash of email address <code>\"7ddb5eae16468674b843f396b335a7dd\"</code> hashedID2 string Yes if logged in sha256 hash of email address <code>\"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"</code> loginStatus string Yes Customer login status <code>\"logged_in\"</code>, <code>\"logged_out\"</code> loyaltyTier string Yes if logged in Customer loyalty tier <code>\"studio\"</code>, <code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red_carpet\"</code>, <code>\"non-loyalty\"</code> type string Yes User type <code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code>"},{"location":"events/loyaltySignupSuccess/","title":"Loyalty Sign Up Success","text":"<p>Executed when an existing registered customer successfully joins the loyalty program. </p>"},{"location":"events/loyaltySignupSuccess/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddLoyaltySignupSuccessEvent = {\neventInfo: {\neventName: \"loyaltySignupSuccess\",\ntype: \"account\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\ncustomerType: \"customer\",\nemailOptIn: true,\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\ntype: \"registered\"\n} }\n]\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddLoyaltySignupSuccessEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"loyaltySignupSuccess\");\n</code></pre>"},{"location":"events/loyaltySignupSuccess/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"loyaltySignupSuccess\"</code> type string Yes The event type <code>\"account\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/loyaltySignupSuccess/#user-properties","title":"User Properties","text":"<p>The <code>user</code> array contains objects which describe individual users. In most cases there will only ever be a single object.</p>"},{"location":"events/loyaltySignupSuccess/#profile-properties","title":"Profile Properties","text":"<p>The <code>profile</code> array contains objects which describe one or more profiles associated with a user. Again, this will almost always be one. Objects in this array themselves have only a single property, <code>profileInfo</code> (see below).</p>"},{"location":"events/loyaltySignupSuccess/#profile-info-properties","title":"Profile Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of customerType string Yes if logged in Customer type <code>\"customer\"</code>, <code>\"employee\"</code>, <code>\"associate\"</code> emailOptIn boolean Yes if logged in Whether the user has confirmed email opt in <code>true</code>, <code>false</code> hashedID string Yes if logged in md5 hash of email address <code>\"7ddb5eae16468674b843f396b335a7dd\"</code> hashedID2 string Yes if logged in sha256 hash of email address <code>\"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"</code> loginStatus string Yes Customer login status <code>\"logged_in\"</code>, <code>\"logged_out\"</code> loyaltyTier string Yes if logged in Customer loyalty tier <code>\"studio\"</code>, <code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red_carpet\"</code>, <code>\"non-loyalty\"</code> type string Yes User type <code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code>"},{"location":"events/pageChange/","title":"Page Change","text":"<p>This event should be emitted when the view changes in a single page application (SPA).</p>"},{"location":"events/pageChange/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and page object\nvar ddPageChangeEvent = {\neventInfo: {\neventName: \"pageChange\",\ntype: \"navigation\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\npage: {\nname: \"new page name\",\nchannel: \"new channel\",\ncountryLanguage: \"new countryLanguage\",\ntype: \"new page type\",\nsiteSectionLevel2: \"new siteSectionLevel2\",\nsiteSectionLevel3: \"new siteSectionLevel3\",\nsiteType: \"new site type\"\n}\n};\n// Push it onto the event array on mkorsData object\nvar mkorsData = mkorsData || {};\nmkorsData.event = mkorsData.event || [];\nmkorsData.event.push(ddPageChangeEvent);\n// Update the mkorsData object\nmkorsData.page = mkorsData.page || {};\nmkorsData.page = ddPageChangeEvent.page;\n// Create and dispatch an event trigger\nsendCustomEvent(\"pageChange\");\n</code></pre>"},{"location":"events/pickUpInStoreSearch/","title":"Pick Up In Store Search","text":"<p>Fires whenever a user searches for stores eligible for pickup.</p>"},{"location":"events/pickUpInStoreSearch/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddPickUpInStoreSearchEvent = {\neventInfo: {\neventName: \"pickUpInStoreSearch\",\ntype: \"search\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed\n}\n},\nproduct: [ // array of product objects\n{\nbasePrice: 145.0,\ncustomized: true,\ngwp: \"N\",\ngwpSku: \"\",\nisBaseItem: true,\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\noutfitID: \"28415181\",\npricePer: 145.0,\npriceType: \"list\",\nproductID: \"831879309\",\nquantity: 1,\nupc: \"888318793094\"\n}\n],\nsearchInfo: {\nsearchQuery: \"98335\",\nstoreID: \"637\",\nstoreName: \"MICHAEL KORS TACOMA\" // name of the store\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddRemoveFromCartEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('pickUpInStoreSearch');\n</code></pre>"},{"location":"events/pickUpInStoreSearch/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"pickUpInStoreSearch\"</code> type string Yes The event type <code>\"search\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/pickUpInStoreSearch/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> customized boolean Yes Whether or not the item has been customized <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Yes Whether or not the item is the base item <code>true</code>, <code>false</code> mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer outfitID string If available Outfit ID pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> size string Only if product has a size choice Size code <code>\"large\"</code>, <code>\"12\"</code> upc string Yes Universal purchase code ID"},{"location":"events/pickUpInStoreSearch/#search-info-properties","title":"Search Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of searchQuery string Yes The query executed by the user <code>\"new york\"</code> storeID string Yes The ID of the store selected by the user <code>\"637\"</code> storeName string Yes Name of the store selected by the user <code>\"MICHAEL KORS TACOMA\"</code>"},{"location":"events/productQtyUpdate/","title":"Product Quantity Update","text":"<p>Executed when the user initially increases or decreases item(s) in their cart.  </p> <p>This should not be called for the initial cart addition or a complete removal of the product from the cart. The add to cart and remove from cart events should continue to execute in those scenarios. </p>"},{"location":"events/productQtyUpdate/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddQtyUpdateEvent = {\neventInfo: {\neventName: \"productQtyUpdate\",\ntype: \"increase\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\nbasePrice: 145.0,\ncustomized: true,  engraved: true,\ngwp: \"N\", gwpSku: \"\", isBaseItem: true,   lookID: \"\",\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\nmonogrammed: false,\noutfitID: \"28415181\",\npricePer: 145.0,\npriceType: \"list\", productID: \"831879309\",\nquantity: 2,\nupc: \"888318793094\"\n}  ]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddQtyUpdateEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('productQtyUpdate');\n</code></pre>"},{"location":"events/productQtyUpdate/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"productQtyUpdate\"</code> type string Yes The event type <code>\"increase\"</code>, <code>\"decrease\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/productQtyUpdate/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> customized boolean Yes Whether or not the item has been customized <code>true</code>, <code>false</code> engraved boolean If available Whether or not the customer added an engraving <code>true</code>, <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Whether the item is the base item <code>true</code>, <code>false</code> lookID string If available Look ID mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer monogrammed boolean If available Whether the item has had a monogram added to it <code>true</code>, <code>false</code> outfitID string If available The outfit ID <code>\"12345\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> quantity number Yes How many of the item were added to the cart <code>1</code> upc string Yes Universal purchase code ID <code>\"194900989333\"</code>"},{"location":"events/promoCodeApplied/","title":"Promo Code Applied","text":"<p>Executed when the user successfully applies a promo code.</p>"},{"location":"events/promoCodeApplied/#code-example","title":"Code Example","text":"<pre><code>// Promo Code Example\n// create object with eventInfo and product object\nvar ddPromoCodeEvent = {\neventInfo: {\neventName: \"promoCodeApplied\",\npromoCode: \"15OFF\", // text value of the successful promo code\ntype: \"checkout\", timeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed\n}\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddPromoCodeEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('promoCodeSuccess');\n</code></pre>"},{"location":"events/promoCodeApplied/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"promoCodeApplied\"</code> promoCode string Yes The promo code applied <code>\"150FF\"</code> type string Yes The event type <code>\"checkout\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/qtyDropdownChange/","title":"Quantity Selection","text":"<p>Executed on a product detail page and quick view when the user changes the quantity dropdown value.</p>"},{"location":"events/qtyDropdownChange/#code-example","title":"Code Example","text":"<pre><code>//create object with eventInfo and product object\nvar ddQtyChangeEvent = {\neventInfo: {\neventName: \"qtyDropdownChange\",\nselectionValue: \"3\",\ntype: \"product interaction\",    timeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false //Launch will change this to true once processed\n}\n},\nproduct: [ //use an array even though this will most likely always be a single item\n{\navailability: true,\nbasePrice: 98.0,\ncolor: \"TRUE NAVY\",\nmfr: \"MICHAEL Michael Kors\",\nmfrItemNum: \"MF98Z5M65N\",\npricePer: 98.0,\npriceType: \"list\",\nproductID: \"831879309\",\nsize: \"S\",\nupc: \"888318793094\"\n}\n]\n};\n//Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddQtyChangeEvent);\n//Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"ddQtyChangeEvent\");\n</code></pre>"},{"location":"events/qtyDropdownChange/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"qtyDropdownChange\"</code> selectionValue number Yes The new value selected by the user <code>3</code> type string Yes The event type <code>\"product interaction\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/qtyDropdownChange/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of availability boolean If available Whether or not the product is available for purchase <code>true</code>, <code>false</code> basePrice number Yes Base unit price of item <code>445.0</code> color string Only if the product has a color choice Color code <code>\"black\"</code> mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer pricePer number Yes Displayed unit price of item <code>445.0</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> size string Only if product has a size choice Size code <code>\"large\"</code>, <code>\"12\"</code> upc string Yes Universal purchase code ID"},{"location":"events/quickView/","title":"Quick View","text":""},{"location":"events/quickView/#quick-view","title":"Quick View","text":"<p>Executed when a quick view dialog is displayed. Since a new page is not loaded when this happens, we need to put the product information into the data layer and dispatch an event to let Launch know about it.</p>"},{"location":"events/quickView/#javascript-code","title":"JavaScript Code","text":"<pre><code>// Create object with eventInfo and product object\nvar ddQuickViewEvent = {\neventInfo: {\neventName: \"quickView\",\ntype: \"product interaction\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed\n}\n},\nproduct: [ // array of product objects\n{\nbasePrice: 445.0,\ncategoryID: \"cat20099\",\ncategoryName: \"NEW ARRIVALS\",\ncustomized: false,\ngwp: \"N\",\ngwpSku: \"\",\nmfr: \"Michael Kors Studio\",\nmfrItemNum: \"30H6SOAL2L\",\npricePer: 598.0,\npriceType: \"Markdown\",\nproductID: \"4952115\",\nupc: \"190049521151\"\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddQuickViewEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('quickView');\n</code></pre> Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice float Base unit price of item <code>445.0</code> categoryID string SFCC category ID <code>\"cat20009\"</code> categoryName string Name of category <code>\"NEW ARRIVALS\"</code> customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> gwp string <code>\"N\"</code> gwpSku string mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer pricePer float Displayed unit price of item priceType string Type of price displayed to user <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> upc string Universal purchase code ID"},{"location":"events/refinementApplied/","title":"PLP Refinements","text":"<p>Executed on product listing pages (including search result listings) when the user chooses to refine the result set.</p>"},{"location":"events/refinementApplied/#code-example","title":"Code Example","text":"<pre><code>var ddRefinementAppliedEvent = {\neventInfo: {\neventName: \"refinementApplied\",\ntype: \"refinement interaction\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nlisting: {\nresultCount: 76,\nlistSorting: [\n{\nsortAttribute: \"price\",\nsortOrder: \"low-high\"\n}\n],\nrefinement: [\n{\nrefinementType: \"color\",\nrefinementValue: \"black\"\n},\n{\nrefinementType: \"size\",\nrefinementValue: \"medium\"\n}\n],\npagination: {\npageNum: 1,\npageCount: 6\n}\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddRefinementAppliedEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"refinementApplied\");\n</code></pre>"},{"location":"events/refinementApplied/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"shareProduct\"</code> type string Yes The event type <code>\"product interaction\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed string Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/refinementApplied/#listing-properties","title":"Listing Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of resultCount number Yes The number of items displayed on the page <code>76</code> listSorting array Yes An array of objects describing the sorting applied refinement array Yes An array of objects describing applied refinements pagination object Yes An object containing two properties: <code>pageNum</code> (the index of the current page) and <code>pageCount</code> (the total number of pages)."},{"location":"events/refinementApplied/#list-sorting-properties","title":"List Sorting Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of sortAttribute string Yes The attribute by which the list is being sorted <code>\"price\"</code> sortOrder string Yes The order in which the list is sorted <code>\"low-high\"</code>, <code>\"high-low\"</code>"},{"location":"events/refinementApplied/#refinement-properties","title":"Refinement Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of refinementType string Yes The type of refinement applied <code>\"color\"</code>, <code>\"size\"</code> refinementValue string Yes The value for which the refinement is applied <code>\"black\"</code>, <code>\"small\"</code>"},{"location":"events/refinementApplied/#notes","title":"Notes","text":"<ol> <li>Launch will compare the listing object of the event with the listing object on the page to determine the net change (which refinements were added, removed or changed. Please use the same ordering when creating the refinement and listSorting arrays for the base page and for the custom event.</li> <li>After Launch determines the net change, the <code>mkorsData.page.listing</code> object will be overwritten (by Launch) to reflect the current state of the page. If this is problematic, we can discuss other strategies.</li> </ol>"},{"location":"events/removeFromCart/","title":"Remove from Cart","text":"<p>Executed only when the user initially completely removes item(s) from the cart. This can happen from the cart by clicking remove or as a result of a quantity update on the shopping cart page. In the case of an update to an item that changes from one Fabric/Color to another, there will be both a cart remove and a cart add.</p>"},{"location":"events/removeFromCart/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddRemoveFromCartEvent = {\neventInfo: {\neventName: \"removeFromCart\",\ntype: \"cart\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\nbasePrice: 145.0,\ncustomized: true,\ngwp: \"N\",\ngwpSku: \"\",\nupc: \"888318793094\",\nisBaseItem: true,\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\noutfitID:  \"28415181\",\npricePer: 145.0,\npriceType: \"list\",\nproductID: \"831879309\",\nquantity: 2\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddRemoveFromCartEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('removeFromCart');\n</code></pre>"},{"location":"events/removeFromCart/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"removeFromCart\"</code> type string Yes The event type <code>\"cart\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/removeFromCart/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> customized boolean Yes Whether or not the item has been customized <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Yes Whether or not the item is the base item <code>true</code>, <code>false</code> mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer outfitID string If available Outfit ID pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> size string Only if product has a size choice Size code <code>\"large\"</code>, <code>\"12\"</code> upc string Yes Universal purchase code ID"},{"location":"events/removeFromWishlist/","title":"Remove from Wishlist","text":"<p>Executed anywhere the user chooses to remove item(s) from the wishlist. This can happen from wishlist, or as a result of a quantity update on the wishlist page. Any other places that cause an item or items to be removed from the wishlist should follow this pattern. In the case of an update to an item that changes from one Fabric/Color to another, there will be both a wishlist remove and a wishlist add. </p>"},{"location":"events/removeFromWishlist/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddRemoveFromWishListEvent = {\neventInfo: {\neventName: \"removeFromWishList\",\ntype: \"wishList\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed \n}\n},\nproduct: [ // array of product objects\n{\nmfr: Michael Kors Mens,\nmfrItemNum: CB94C6LEX8,\npricePer: 125.0,\nproductID: 831879150,\nquantity: 1 upc: 888318791502,\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddRemoveFromWishListEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent('removeFromWishList');\n</code></pre>"},{"location":"events/removeFromWishlist/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"removeFromWishList\"</code> type string Yes The event type <code>\"wishlist\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/removeFromWishlist/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of mfr string Yes Manufacturer of the item <code>\"michael kors\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"ABC123\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> productID string Yes Product ID <code>\"4952115\"</code> quantity number No How many of the item were added to the wishlist <code>1</code> upc string Yes Universal purchase code ID"},{"location":"events/shareProduct/","title":"Share Product","text":"<p>Executed anywhere the user chooses to share a product via any social media channel. This can happen from product detail pages and quickview pages on the site, but may find implementation elsewhere.</p> <pre><code>// create object with eventInfo and product object\nvar ddShareProductEvent = {\neventInfo: {\neventName: \"shareProduct\",\ntype: \"product interaction\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n}\n},\nproduct: [\n{\nproductID: \"831879309\",\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\nupc: \"888318793094\"\n}\n],\nsocialMedia: {\nchannel: \"facebook\",\nlocation: \"inline\"\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddShareProductEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"shareProduct\");\n</code></pre>"},{"location":"events/shareProduct/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"shareProduct\"</code> type string Yes The event type <code>\"product interaction\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/shareProduct/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of mfr string Yes Manufacturer of the item <code>\"Michael Kors\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"CB99A5G0UK\"</code> productID string Yes The most specific ID for the product being shared <code>\"CB99A5G0UK\"</code> upc string Yes Universal purchase code ID <code>\"888318793094\"</code>"},{"location":"events/shareProduct/#social-media-properties","title":"Social Media Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of channel string Yes The platform to which the item was shared <code>\"facebook\"</code> location string Yes The location of the share link or button <code>\"inline\"</code>"},{"location":"events/shareProduct/#notes","title":"Notes","text":"<p>During gifting seasons, the giftee may be sharing the item that they would like to receive.</p>"},{"location":"events/shopLocal/","title":"Shop Local","text":"<p>This custom event should fire every time a new set of products is shown to the user. This includes when a new store location is clicked, as well as when a user scrolls through the product carousel. When scrolling through the carousel, only the products shown to the user should be included in the product array.</p>"},{"location":"events/shopLocal/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddShopLocalEvent = {\neventInfo: {\neventName: \"shopLocal\",\nsearchValue: \"30019\",\nsiteSection: \"store locator\",\ntype: \"shop local\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false\n},\nproduct: [\n{\nbasePrice: 45.0,\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB94C6LEX8\",\noutfitID: \"28415181\" pricePer: 25.0,\npriceType: \"markdown\",\nproductID: \"831879150\",\nupc: \"888318791502\",\n}\n]\n}\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddShopLocalEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"shopLocal\");\n</code></pre>"},{"location":"events/shopLocal/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"shopLocal\"</code> searchValue string Yes Value used to generate the store locator results <code>\"30019\"</code> siteSection string Yes Store locator OR store detail <code>\"store locator\"</code>, <code>\"store detail\"</code> type string Yes The event type <code>\"shop local\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/shopLocal/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> mfr string Yes Manufacturer of the item <code>michael kors</code> mfrItemNum string Yes ID used by manufacturer outfitID string If available The outfit ID <code>\"12345\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> upc string Yes Universal purchase code ID"},{"location":"events/shopLocal/#notes","title":"Notes","text":"<p>The products in the smart bar should also contain query parameters leading to each product detail page. Example links: <pre><code>https://www.michaelkors.com/blakely-leather-tote/_/R-US_30S8SZLT3L?color=1999&amp;r8shoplocal=SITESECTION_STORECODE_SEARCHVALUE\n\nhttps://www.michaelkors.com/blakely-leather-tote/_/R-US_30S8SZLT3L?color=1999&amp;r8shoplocal=StoreLocator_3456_30019\n</code></pre></p> <p><code>SITESECTION</code> should populate where the click occurred, <code>STORECODE</code> should populate the store code clicked from, and <code>SEARCHVALUE</code> should contain the value used to generate the store locator results.</p>"},{"location":"events/signInSuccess/","title":"Sign In Success","text":"<p>Executed when a customer successfully signs in to an existing account. </p>"},{"location":"events/signInSuccess/#code-example","title":"Code Example","text":"<pre><code>// create object with eventInfo and product object\nvar ddSignInSuccessEvent = {\neventInfo: {\neventName: \"signInSuccess\",\ntype: \"account\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed \n}\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\ncustomerType: \"customer\",\nemailOptIn: true,\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\ntype: \"registered\",\n}\n}\n]\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddSignInSuccessEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"signInSuccess\");\n</code></pre>"},{"location":"events/signInSuccess/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"signInSuccess\"</code> type string Yes The event type <code>\"account\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, but which is updated by Launch upon processing <code>false</code>"},{"location":"events/signInSuccess/#user-properties","title":"User Properties","text":"<p>The <code>user</code> array contains objects which describe individual users. In most cases there will only ever be a single object.</p>"},{"location":"events/signInSuccess/#profile-properties","title":"Profile Properties","text":"<p>The <code>profile</code> array contains objects which describe one or more profiles associated with a user. Again, this will almost always be one. Objects in this array themselves have only a single property, <code>profileInfo</code> (see below).</p>"},{"location":"events/signInSuccess/#profile-info-properties","title":"Profile Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of customerType string Yes if logged in Customer type <code>\"customer\"</code>, <code>\"employee\"</code>, <code>\"associate\"</code> emailOptIn boolean Yes if logged in Whether the user has confirmed email opt in <code>true</code>, <code>false</code> hashedID string Yes if logged in md5 hash of email address <code>\"7ddb5eae16468674b843f396b335a7dd\"</code> hashedID2 string Yes if logged in sha256 hash of email address <code>\"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"</code> loginStatus string Yes Customer login status <code>\"logged_in\"</code>, <code>\"logged_out\"</code> loyaltyTier string Yes if logged in Customer loyalty tier <code>\"studio\"</code>, <code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red_carpet\"</code>, <code>\"non-loyalty\"</code> type string Yes User type <code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code>"},{"location":"events/signInSuccess/#notes","title":"Notes","text":"<p>The <code>hashedID</code>s in the <code>user[n].profile[n]</code> object are one-way hashes of the customer\u2019s email address. This value is fed into the analytics data stream (and also into a few marketing pixels) for the purpose of visitor stitching across devices and back-end matching of online data to CRM data.</p> <p>Both the MD5 and SHA256 algorithms are used for hashing. The same algorithms must be used in all back-end systems in order for matching to work. Whatever the hashing (or encryption) process, be sure to standardize the plain-text email address format before processing; This means forcing the string to lowercase and encode special characters (if any). Also, be certain to document the full process and follow it to the letter on all systems that will convert customer IDs (email or otherwise) into hashed or encrypted keys.</p>"},{"location":"events/sizeSelection/","title":"Size Selection","text":"<p>Executed anywhere the user chooses to select the size of a product. This can happen from product detail pages and quickview pages on the site.</p> <pre><code>// Create object with eventInfo and product object\nvar ddSizeSelectionEvent = {\neventInfo: {\neventName: \"sizeSelection\",\ntype: \"product interaction\",\ntimeStamp: new Date(),\nprocessed: {\nadobeAnalytics: false // Launch will change this to true once processed\n}\n},\nproduct: [ // Use an array even though this will most likely always be a single item\n{\navailability: \"y\",\nbasePrice: \"145.0\",\ncolorCode: \"BLACK\",\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\npricePer: \"145.0\",\npriceType: \"List\",\nproductID: \"831879309\",\nsizeCode: \"LARGE\",\nupc: \"888318793094\"\n}\n]\n};\n// Push it onto the event array on mkorsData object\nwindow.mkorsData = window.mkorsData || {};\nwindow.mkorsData.event = window.mkorsData.event || [];\nwindow.mkorsData.event.push(ddSizeSelectionEvent);\n// Create and dispatch an event trigger (using predefined sendCustomEvent function)\nsendCustomEvent(\"sizeSelection\");\n</code></pre>"},{"location":"events/sizeSelection/#event-info-properties","title":"Event Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of eventName string Yes The name of the event <code>\"sizeSelection\"</code> type string Yes The event type <code>\"product interaction\"</code> timeStamp string Yes ISO-8601 Extended Format date <code>\"2021-11-05T20:22:02.707Z\"</code> processed object Yes Contains one property, <code>adobeAnalytics</code>, always set to <code>false</code> by application, which is updated by Launch upon processing <code>false</code>"},{"location":"events/sizeSelection/#product-properties","title":"Product Properties","text":"Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of availability string Whether or not the item is in stock <code>\"y\"</code>, <code>\"n\"</code> basePrice float Base price of the item <code>145.0</code> colorCode string Color code <code>\"BLACK\"</code> mfr string Manufacturer of the item <code>\"Michael Kors\"</code> mfrItemNum string ID used by manufacturer <code>\"CB99A5G0UK\"</code> pricePer float Displayed unit price of item priceType string Type of price displayed to user <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> sizeCode string Size code <code>\"LARGE\"</code> upc string Universal purchase code ID <code>\"888318793094\"</code>"},{"location":"page-load/","title":"Page Load Tracking","text":"<p>There is basic information that should be included in the digital data layer on all pages of the web site. This data is provided in a JSON object and is used by Adobe Launch to determine which (if any) rules should fire and what data should be sent in analytics and marketing tags.</p> <p>The best practice is to create this object in server side code, convert it to JSON, and include it in an in-line script tag of the HTML markup so that the actual <code>window.mkorsData</code> object is instantiated as the page renders in the client-side browser.</p> <p>Depending on the context, the object may contain multiple properties pointing to objects which describe what's presented to the user. For example, <code>product</code> is an array of one or more objects describing which products are presented to a user, added to the shopping cart, or included with a purchase. <code>user</code> is an array containing one <code>profile</code> object which contains available user data.</p> <p>In addition, asynchronous events may be pushed to the <code>mkorsData.events</code> array to describe events which take place independent of a page load.</p>"},{"location":"page-load/allPages/","title":"All Pages","text":"<p>There is basic information that should be included in the digital data layer on all pages of the web site. This data is provided in a JSON object and is used by Adobe Launch to determine which (if any) rules should fire and what data should be sent in analytics and marketing tags.  A good practice is to create this object in server side code, convert it to JSON, and include it in an inline script tag of the HTML markup so that the actual <code>window.mkorsData</code> object is instantiated as the page renders in the client-side browser.</p> <p>Below is an example of the core <code>mkorsData</code> object that is expected on all website pages. - Note the absence of the <code>tagConfig</code> object; we no longer rely on this for Adobe Launch config. - Also note the inclusion of the user object.</p>"},{"location":"page-load/allPages/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"home.html\",\nchannel: \"Home Page\",\ncountryLanguage: \"US:en\",\nname: \"Home Page\",\nregion: \"NA\",\nresponsiveView: \"large\",\nsiteSectionLevel2: \"Home Page\",\nsiteSectionLevel3: \"Home Page\",\nsiteType: \"desktop:ecommerce\",\ntype: \"Home Page\"\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: true,\ncustomerType: \"customer\",\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\ntype: \"registered\"\n}\n}\n]\n}\n]\n};\n</code></pre>"},{"location":"page-load/allPages/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/allPages/#notes","title":"Notes","text":"<ol> <li><code>mkorsData.page.siteType</code> will have no purpose once the site is fully responsive and if the Destination Kors site goes away. Set to <code>responsive:ecommerce</code> for site redesign (PDP, PLP, SERP, Home).</li> <li><code>mkorsData.page.responsiveView</code> is provided for site redesign to carry the responsive view of the page at the time it is loaded. The value might be <code>xsmall</code>, <code>small</code>, <code>medium</code>, or <code>large</code> depending on how many responsive breakpoints there are.</li> <li>See notes on the <code>hashedID</code> that are included in this document on the Sign In Success custom event. (md5 hash of trimmed, lowercased, email address)</li> <li>ECB-13327 Added <code>mkorsData.user[n].profile[n].profileInfo.applePayEnabled: /true|false/</code></li> </ol>"},{"location":"page-load/checkoutPages/","title":"Checkout Pages","text":"<p>The Checkout pages will have the following data layer JSON object.</p>"},{"location":"page-load/checkoutPages/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"/checkout/checkout.jsp\",\nchannel: \"checkout\",\ncountryLanguage: \"US:en\",\nname: \"APPROPRIATE_NAME\", // (1)\nresponsiveView: \"large\",\nsiteSectionLevel2: \"APPROPRIATE_NAME\", // (2)\nsiteSectionLevel3: \"APPROPRIATE_NAME\", // (3)\nsiteType: \"desktop:ecommerce\",\ntype: \"APPROPRIATE_NAME\" // (4)\n},\ncart: {\ncurrency: \"USD\",\ncustomerID: \"49115482\",\ncustomerType: \"0\",\nproduct: [\n{\navailability: \"Y\",\nbasePrice: \"378.0\",\ncategory: \"Shoulder Bags\",\ncategoryID: \"cat20103\",\ncolor: \"SUNFLOWER\",\ngwp: \"N\",\ngwpSku: \"\",\nisCrossSell: \"N\",\nmfr: \"MICHAEL Michael Kors\",\nmfrItemNum: \"30T9G0El8L\",\nname: \"CeceMediumQuiltedLeatherConvertibleShoulderBag\",\norderType: \"regular\",\npickUpInStore: \"N\",\npickUpStoreID: \"\",\npickUpStoreName: \"\",\npricePer: \"283.5\",\npriceType: \"Markdown\",\nproductID: \"359929205\",\nqty: \"1\",\nsize: \"ONE SIZE\",\nsku: \"359929205\",\nupc: \"000000193599292052\"\n}\n]\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: \"true\",\nemailOptIn: \"true\",\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\", // (5)\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\", // (6) \nloginStatus: \"logged in\", // (7)\nloyaltyOptIn: \"logged in\", // (8)\nloyaltyTier: \"studio\", // (9)\ntype: \"registered\", // (10)\nzipCode: \"30052-9277\"\n}\n}\n]\n}\n]\n};\n</code></pre> <ol> <li>e.g. <code>checkout:shipping</code> OR <code>checkout:billing</code></li> <li><code>checkout:shipping</code> OR <code>checkout:billing</code></li> <li><code>checkout:shipping</code> OR <code>checkout:billing</code></li> <li><code>checkout:shipping</code> OR <code>checkout:billing</code></li> <li>md5 hash of email address</li> <li>sha256 hash of email</li> <li><code>\"logged in\"</code>, <code>\"logged out\"</code></li> <li><code>\"logged in\"</code>, <code>\"logged out\"</code></li> <li><code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red carpet\"</code>, <code>\"non-loyalty\"</code></li> <li><code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code></li> </ol>"},{"location":"page-load/checkoutPages/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/checkoutPages/#cart-properties","title":"Cart Properties","text":"Field Type Required Description Examples currency customerID customerType product array Yes See below for <code>product</code> properties"},{"location":"page-load/checkoutPages/#product-properties","title":"Product Properties","text":"Field Type Description Examples basePrice number Base unit price of item <code>445.0</code> categoryID string SFCC category ID <code>\"cat20009\"</code> categoryName string Name of category <code>\"NEW ARRIVALS\"</code> customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> color string Color code <code>\"BLACK\"</code> crossSellCartridge string customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> gwp string <code>\"N\"</code> gwpSku string isCrossSell string Whether or not the item is cross sell eligible isEngravable string Whether or not the item is engravable isMonogrammable string Whether or not the item is monogrammable mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer name string Product name <code>\"SloanTangoSmallQuilted-LeatherShoulderBag\"</code> pricePer number Displayed unit price of item priceType string Type of price displayed to user <code>\"List\"</code>, <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> size string Size code <code>\"LARGE\"</code>, <code>\"12\"</code> skuVariants array See SKU Variants Array below upc string Universal purchase code ID"},{"location":"page-load/checkoutPages/#cross-sell-group-properties","title":"Cross Sell Group Properties","text":"Field Type Description Examples productCount string Number of products in the group <code>\"3\"</code> strategy string Cross sell strategy used <code>\"We Think You Will Love\"</code>, <code>\"Recently Viewed\"</code>"},{"location":"page-load/checkoutPages/#cross-sell-group-product-properties","title":"Cross Sell Group Product Properties","text":"<p>The members of the Cross Sell Group array are subsets of the <code>product</code> object.</p> Field Type Description Examples displayIndex integer Order in which the item was displayed <code>0</code>, <code>1</code>, <code>2</code> mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer productID string Product ID <code>\"4952115\"</code>"},{"location":"page-load/checkoutPages/#notes","title":"Notes","text":""},{"location":"page-load/orderConfirmationPage/","title":"Order Confirmation Page","text":"<p>The Order Confirmation Page will have the following data layer JSON object.</p>"},{"location":"page-load/orderConfirmationPage/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nchannel: \"checkout\",\ncountryLanguage: \"US:en\",\nname: \"checkout:confirmation\",\nresponsiveView: \"medium\"\nsiteSectionLevel2: \"checkout:confirmation\",\nsiteSectionLevel3: \"checkout:confirmation\",\nsiteType: \"desktop:ecommerce\",\ntype: \"checkout:confirmation\",\n},\ntransaction: {\nbillingCountry: \"US\",\nbillingState: \"WI\",\nbillingZipCode: \"53533-8825\",\ncurrency: \"USD\",\ncustomerID: \"13466870\",\ncustomerType: \"0\",\nnonProductGwp: \"\",\norderDiscountAmount: 0.00,\norderID: \"w8244902\",\norderType: \"regular\", // \"regular\" or \"preorder\" depending on order type\npaymentMethod: \"visa\",\nproduct: [\n{\ncolor: \"ELECTRIC BLUE\",\ncategory: \"NEW ARRIVALS\",\ncategoryID: \"cat3240085\",\nmfr: \"Michael Kors Studio\",\nmfrItemNum: \"30F6SM9T3L\",\nname: \"MercerLargeLeatherTote\",\npricePer: 298.0,\npriceType: \"List\",\nproductID: \"86448190\",\nqty: 1,\ncustomized: true,\noutfitID: \"35185404\",\nisBaseitem: true,\nisCrossSell: false,\nproductDiscountAmount: 0.0,\ngiftwrapAmount: 0.0,\nmarkdownAmount: 0.0,\nsize: \"ONE SIZE\",\nsku: \"86448190\",\nupc: \"000000190864481906\",\ngwpSku: null,\ngwp: false,\npickUpInStore: true,\npickUpStoreID: \"637\",\npickUpStoreName: \"MICHAEL KORS TACOMA\",\nmonogrammed: true,\nengraved: false\n}\n],\nsalesTax: 24.53,\nshippingCity: \"DODGEVILLE\",\nshippingCost: 5.00,\nshippingCountry: \"US\",\nshippingMethod: \"ground\",\nshippingState: \"WI\",\nshippingType: \"ground\"\nshippingZipCode: \"53533-8825\",\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: true,\nhashedID: \"7a8e1e3e9a2116bd77e4f92ed60b1ae7\",\nloginStatus: \"logged in\",\nloyaltyTier: \"NA\",\ntype: \"registered\",\n}\n}\n]\n}\n],\n};\n</code></pre>"},{"location":"page-load/orderConfirmationPage/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/orderConfirmationPage/#transaction-properties","title":"Transaction Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of billingCountry string Yes Country in which purchase was made <code>\"US\"</code> billingState string Yes State in which purchase was made <code>\"WI\"</code> billingZipCode string Yes Zip/postal code where purchase was made <code>\"53533-8825\"</code> currency string Yes Currency in which purchase was made <code>\"USD\"</code> customerID string Yes Customer ID <code>\"13466870\"</code> customerType string Yes Customer type <code>\"0\"</code> nonProductGwp ? ? ? orderDiscountAmount number Yes Total discount applied to purchase <code>0.00</code> orderID string Yes Globally unique identifier for purchase <code>\"w8244902\"</code> orderType string Yes Order type <code>\"regular\"</code>, <code>\"preorder\"</code> paymentMethod string Yes Payment method used to make the purchase <code>\"visa\"</code>, <code>\"apple_pay\"</code> product array Yes Products included in purchase. See below for <code>product</code> properties salesTax number Yes Total sales tax applied to purchase <code>24.53</code> shippingCity string Yes City to which purchase will be shipped <code>\"DODGEVILLE\"</code> shippingCost number Yes Shipping cost of entire purchase <code>5.00</code> shippingCountry string Yes Country to which purchase will be shipped <code>\"US\"</code> shippingMethod string Yes Shipping method chosen by customer <code>\"ground\"</code>, <code>\"express\"</code> shippingState string Yes State/province to which purchase will be shipped <code>\"WI\"</code> shippingType string Yes Shipping type chosen by customer <code>\"ground\"</code>, <code>\"express\"</code> shippingZipCode string Yes Zip/postal code to which order will be shipped <code>\"53533-8825\"</code>"},{"location":"page-load/orderConfirmationPage/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Yes Base unit price of item <code>445.0</code> categoryID string Yes SFCC category ID <code>\"cat20009\"</code> categoryName string Yes Name of category <code>\"NEW ARRIVALS\"</code> customized boolean Yes Whether or not the item has been customized <code>true</code>, <code>false</code> color string Only if the product has a color choice Color code <code>\"BLACK\"</code> crossSellCartridge string ? ? customized boolean Yes Whether or not the item has been customized <code>true</code>, <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isCrossSell boolean Yes Whether or not the item is cross sell eligible isEngravable boolean Yes Whether or not the item is engravable isMonogrammable string Yes Whether or not the item is monogrammable mfr string Yes Manufacturer of the item mfrItemNum string Yes ID used by manufacturer name string Yes Product name <code>\"SloanTangoSmallQuilted-LeatherShoulderBag\"</code> pickUpInStore boolean Yes Whether the customer chose to pick up the item at the store instead of having it shipped <code>true</code>, <code>false</code> pickUpStoreID string Only if <code>pickUpInStore</code> is <code>true</code> The ID of the store where the customer chose to pick up the item <code>\"637\"</code> pickUpStoreName string Only if <code>pickUpInStore</code> is <code>true</code> The name of the store where the customer chose to pick up the item <code>\"MICHAEL KORS TACOMA\"</code> pricePer number Yes Displayed unit price of item priceType string Yes Type of price displayed to user <code>\"List\"</code>, <code>\"Markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> size string Only if product has a size choice Size code <code>\"LARGE\"</code>, <code>\"12\"</code> upc string Universal purchase code ID"},{"location":"page-load/orderConfirmationPage/#cross-sell-group-properties","title":"Cross Sell Group Properties","text":"Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of productCount string Number of products in the group <code>\"3\"</code> strategy string Cross sell strategy used <code>\"We Think You Will Love\"</code>, <code>\"Recently Viewed\"</code>"},{"location":"page-load/orderConfirmationPage/#cross-sell-group-product-properties","title":"Cross Sell Group Product Properties","text":"<p>The members of the Cross Sell Group array are subsets of the <code>product</code> object. |Field|Type|Description|Examples|Pattern|Min Length|Max Length|Min|Max|Multiple Of| |-----|----|-----------|--------|-------|----------|----------|---|---|-----------| |displayIndex|integer|Order in which the item was displayed|<code>0</code>, <code>1</code>, <code>2</code>||||||| |mfr|string|Manufacturer of the item|||||||| |mfrItemNum|string|ID used by manufacturer|||||||| |productID|string|Product ID|<code>\"4952115\"</code>|||||||</p>"},{"location":"page-load/orderConfirmationPage/#notes","title":"Notes","text":"<ol> <li>At present Launch is scraping the DOM determine and set the <code>product[n].monogrammed</code> flag. It\u2019s super fragile and WILL break.</li> <li><code>mkorsData.transaction.product[2].pickupstoreid</code> is shown above to demonstrate how the pick up in store (Click &amp; Collect) information may be passed.</li> <li> <p>In the spec above, <code>transaction.product</code> is an array of product objects. This aligns with the rest of the data layer where we use an array of products (e.g. <code>addToBag</code> for custom items). The present (as of 9/2017) implementation of products within the <code>transaction</code> object is an \u201cassociative array\u201d instead of an array object. In Launch we are looping through the associative array using     <pre><code>for (var i in mkorsData.transaction.product) {...}\n</code></pre>     This looping control structure will work with both the current and future product structures.</p> <p>To be clear, the current implementation is like this: <pre><code>transaction: {\nproduct: {\n\"0\": {...},\n\"1\": {...},\n\"2\": {...}\n}\n}\n</code></pre> But at some point, we would like it to be like this: <pre><code>transaction: {\nproduct: [\n{...},\n{...},\n{...}\n]\n}\n</code></pre></p> </li> </ol>"},{"location":"page-load/productDetailPages/","title":"Product Detail Pages","text":"<p>In addition to <code>page</code> and <code>user</code> properties, Product Detail Pages have <code>product</code> and <code>crossSellGroup</code> arrays.</p> <p>Note that on PDPs, members of <code>product</code> have the <code>SkuVariants</code> array.</p>"},{"location":"page-load/productDetailPages/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"&lt;breadcrumb&gt;\",\nchannel: \"&lt;channel&gt;\",\ncountryLanguage: \"&lt;countryLanguage&gt;\",\nname: \"&lt;name&gt;\",\nnavigation: \"&lt;navigation&gt;\",\nregion: \"&lt;region&gt;\",\nresponsiveView: \"&lt;responsiveView&gt;\",\nsiteSectionLevel2: \"&lt;siteSectionLevel2&gt;\",\nsiteSectionLevel3: \"&lt;siteSectionLevel3&gt;\",\nsiteType: \"&lt;siteType&gt;\",\ntype: \"&lt;type&gt;\"\n},\nproduct: {\nSkuVariants: [\n{\navailability: \"&lt;availability&gt;\",\nbasePrice: \"&lt;basePrice&gt;\",\ncolor: \"&lt;color&gt;\",\npricePer: \"&lt;pricePer&gt;\",\npriceType: \"&lt;priceType&gt;\",\nproductID: \"&lt;productID&gt;\",\nsize: \"&lt;size&gt;\"\n}\n],\navailability: \"&lt;availability&gt;\",\nbasePrice: \"&lt;basePrice&gt;\",\ncategoryID: \"&lt;categoryID&gt;\",\ncategoryName: \"&lt;categoryName&gt;\",\ncolor: \"&lt;color&gt;\",\ncrossSellCartridge: \"&lt;crossSellCartridge&gt;\",\ngwp: \"&lt;gwp&gt;\",\ngwpSku: \"&lt;gwpSku&gt;\",\nisCrossSell: \"&lt;isCrossSell&gt;\",\nkeywords: \"&lt;keywords&gt;\",\nmfr: \"&lt;mfr&gt;\",\nmfrItemNum: \"&lt;mfrItemNum&gt;\",\nname: \"&lt;name&gt;\",\npricePer: \"&lt;pricePer&gt;\",\npriceType: \"&lt;priceType&gt;\",\nproductID: \"&lt;productID&gt;\",\nqtyAvailable: \"&lt;qtyAvailable&gt;\",\nupc: \"&lt;upc&gt;\",\nisEngravable: \"&lt;isEngravable&gt;\",\nisMonogrammable: \"&lt;isMonogrammable&gt;\"\n},\ncrossSellGroup: [\n{\nstrategy: \"&lt;strategy&gt;\",\nproductCount: \"&lt;productCount&gt;\",\nproduct: [\n{\ndisplayIndex: \"&lt;displayIndex&gt;\",\nmfr: \"&lt;mfr&gt;\",\nmfrItemNum: \"&lt;mfrItemNum&gt;\",\nproductID: \"&lt;productID&gt;\"\n}\n]\n}\n],\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: \"&lt;applePayEnabled&gt;\",\ncustomerType: \"&lt;customerType&gt;\",\nhashedID: \"&lt;hashedID&gt;\",\nhashedID2: \"&lt;hashedID2&gt;\",\nloginStatus: \"&lt;loginStatus&gt;\",\nloyaltyTier: \"&lt;loyaltyTier&gt;\",\ntype: \"&lt;type&gt;\"\n}\n}\n]\n}\n]\n}\n</code></pre>"},{"location":"page-load/productDetailPages/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/productDetailPages/#product-properties","title":"Product Properties","text":"Field Type Description Examples basePrice number Base unit price of item <code>445.0</code> categoryID string SFCC category ID <code>\"cat20009\"</code> categoryName string Name of category <code>\"NEW ARRIVALS\"</code> customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> color string Color code <code>\"BLACK\"</code> crossSellCartridge string customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> gwp string <code>\"N\"</code> gwpSku string isCrossSell string Whether or not the item is cross sell eligible isEngravable string Whether or not the item is engravable isMonogrammable string Whether or not the item is monogrammable mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer name string Product name <code>\"SloanTangoSmallQuilted-LeatherShoulderBag\"</code> pricePer number Displayed unit price of item priceType string Type of price displayed to user <code>\"List\"</code>, <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> size string Size code <code>\"LARGE\"</code>, <code>\"12\"</code> skuVariants array See SKU Variants Array below upc string Universal purchase code ID"},{"location":"page-load/productDetailPages/#sku-variants-array","title":"SKU Variants Array","text":"<p>The SKU Variants array contains objects which have a subset of Product properties, and which describe variants of the displayed product. For example, if a pair of boots is available in multiple colors, the default information is loaded in the main <code>products</code> object, and details about variants are loaded as objects in the <code>SkuVariants</code> array.</p> Field Type Description Examples basePrice number Base unit price of item <code>445.0</code> color string Color code <code>\"BLACK\"</code>, <code>\"RED/BROWN\"</code> pricePer number Displayed unit price of item <code>445.0</code> priceType string Type of price displayed to user <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> size string Size code <code>\"ONE SIZE\"</code>, <code>\"LARGE\"</code>, <code>\"12\"</code>"},{"location":"page-load/productDetailPages/#cross-sell-group-properties","title":"Cross Sell Group Properties","text":"Field Type Description Examples productCount string Number of products in the group <code>\"3\"</code> strategy string Cross sell strategy used <code>\"We Think You Will Love\"</code>, <code>\"Recently Viewed\"</code>"},{"location":"page-load/productDetailPages/#cross-sell-group-product-properties","title":"Cross Sell Group Product Properties","text":"<p>The members of the Cross Sell Group array are subsets of the <code>product</code> object.</p> Field Type Description Examples displayIndex integer Order in which the item was displayed <code>0</code>, <code>1</code>, <code>2</code> mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer productID string Product ID <code>\"4952115\"</code>"},{"location":"page-load/productDetailPages/#notes","title":"Notes","text":"<ol> <li>The <code>mkorsData.page.type</code> value should reflect product configurator values as well, such as \u201cProduct Detail Monogramming\u201d and \u201cProduct Detail Engraving\u201d.</li> </ol>"},{"location":"page-load/productListingPages/","title":"Product Listing Pages","text":"<p>Product Listing Pages include product listings as a result of category navigation as well as search results. When product listing pages are first loaded, a page data layer is created as shown below.  In most cases, we will have a result count, a default sort order and pagination information, but we will not have refinements already applied. However, it is assumed that we could have a page loaded with refinements applied as the result of a shared or bookmarked link or a page refresh. As such, the refinements array is included below.</p>"},{"location":"page-load/productListingPages/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"/shoes/ankle-boots/_/N-180msnr\",\nchannel: \"SHOES\",\ncountryLanguage: \"US:en\",\ncurrencyCode: \"USD\",\ndmpCategory: \"Ankle Boots\",\nmerchCategoryLevel1: \"SHOES\",\nmerchCategoryLevel2: \"Home &gt; SHOES &gt; ANKLE BOOTS\",\nmerchCategoryLevel3: \"Home &gt; SHOES &gt; ANKLE BOOTS\",\nname: \"Home &gt; SHOES &gt; ANKLE BOOTS\",\nnavigation: \"MK:Top Nav &gt; SHOES &gt; ANKLE BOOTS\",\nregion: \"US\",\nresponsiveView: \"large\",\nsiteSectionLevel2: \"Home &gt; SHOES\",\nsiteSectionLevel3: \"Home &gt; SHOES &gt; ANKLE BOOTS\",\nsiteType: \"desktop:ecommerce\",\ntype: \"SubCategory\"\n},\nlisting: {\nresultCount: 60,\nlistSorting: [\n{\nsortAttribute: \"price\",\nsortOrder: \"low-high\"\n}\n],\nrefinement: [\n{\nrefinementType: \"color\",\nrefinementValue: \"black\"\n},\n{\nrefinementType: \"color\",\nrefinementValue: \"navy\"\n},\n{\nrefinementType: \"size\",\nrefinementValue: \"medium\"\n}\n],\npagination: {\npageNum: 1,\npageCount: 5\n},\nquery: \"\",\nqueryReplaced: \"\"\n},\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: true,\ncustomerType: \"customer\",\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\",\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\nloginStatus: \"logged_in\",\nloyaltyTier: \"studio\",\ntype: \"registered\"\n}\n}\n]\n}\n]\n}\n</code></pre>"},{"location":"page-load/productListingPages/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/productListingPages/#notes","title":"Notes","text":"<p>It is desirable to have sorting and refinement information provided in English regardless of the end user\u2019s language selection. Subsequent refinements or sort order selections after page load will be tracked via custom events (see customEvent - PLP Refinements).</p>"},{"location":"page-load/shoppingCartPages/","title":"Shopping Cart Page","text":"<p>The Shopping Cart Page will have the following data layer JSON object.</p>"},{"location":"page-load/shoppingCartPages/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"/checkout/shoppingCart.jsp\",\nchannel: \"Shopping Cart\",\ncountryLanguage: \"US:en\",\ncurrency: \"USD\",\nname: \"Shopping Cart\",\nsiteSectionLevel2: \"Shopping Cart\",\nsiteSectionLevel3: \"Shopping Cart\",\nsiteType: \"desktop:ecommerce\",\nresponsiveView: \"large\",\ntype: \"Shopping Cart\"\n},\ncart: {\nproduct: [\n{\navailable: \"Y\",\nbasePrice: \"145.0\",\ncategory: \"Boots\",\ncategoryID: \"cat20125\",\ncolor: \"BROWN\",\ncrossSellCartridge: \"\",\ncustomized: \"false\",\nengraved: \"false\" // \"true\" or \"false\" if a product is engraved\ngwp: \"N\",\ngwpSku: \"\",\nisBaseItem: \"\",\nisCrossSell: \"N\",\nmfr: \"Michael Kors\",\nmfrItemNum: \"CB99A5G0UK\",\nmonogrammed: \"true\",\nname: \"KekeExtremeLogoTapeBoot\",\norderType: \"regular\", // \"regular\" or \"preorder\" depending on order type\noutfitID: \"28415181\",\npickUpInStore: \"N\",\npickUpStoreID: \"\",\npickUpStoreName: \"\",\npricePer: \"145.0\",\npriceType: \"List\",\nproductID: \"831879309\",\nqty: \"2\",\nsize: \"US 9\",\nsku: \"551269803\",\nupc: \"888318793094\",\n}\n]\n},\ncrossSellGroup: [\n{\nproduct: [\n{\ndisplayIndex: 1\nmfr: \"Michael Kors Studio\",\nmfrItemNum: \"30H6SOAL2L\",\nproductID: \"13452115\",\n},\n{\ndisplayIndex: 2\nmfr: \"Michael Kors\",\nmfrItemNum: \"10X6SOAL34\",\nproductID: \"134521755\",\n}\n],\nproductCount: 4,\nstrategy: \"You may also like\"\n},\n{\nstrategy: \"Recently Viewed\",\nproductCount: 3,\nproduct: [\n{\nproductID: \"13452122\",\nmfr: \"Michael Kors Studio\",\nmfrItemNum: \"30H6SABC456\",\ndisplayIndex: 1\n}\n]\n}\n],\nuser: [\n{\nprofile: [\n{\nprofileInfo: {\napplePayEnabled: \"true\" // true or false (added for ECB-13327)\ncustomerType: \"Customer\", // \"Customer\", \"Employee\", \"Associate\"\nhashedID: \"7ddb5eae16468674b843f396b335a7dd\", // md5 hash of email address\nhashedID2: \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\", // sha256 hash of email address\nloginStatus: \"logged In\", // \"logged in\", \"logged out\"\n// string indication of tier - set to \"down\" if 500 friends service is unavailable\nloyaltyTier: \"studio\", // \"backstage\", \"runway\", \"red carpet\", \"non-loyalty\"\ntype: \"registered\", // \"guest\", \"registered\", \"loyalist\"\n}\n}\n]\n}\n]\n}\n</code></pre>"},{"location":"page-load/shoppingCartPages/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"page-load/shoppingCartPages/#cart-properties","title":"Cart Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of currency string Yes Currency code <code>\"USD\"</code> customerID string No Customer ID customerType string No Customer type product array Yes See below for <code>product</code> properties"},{"location":"page-load/shoppingCartPages/#product-properties","title":"Product Properties","text":"Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Base unit price of item <code>445.0</code> categoryID string SFCC category ID <code>\"cat20009\"</code> categoryName string Name of category <code>\"NEW ARRIVALS\"</code> customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> color string Color code <code>\"BLACK\"</code> crossSellCartridge string customized boolean Whether or not the item has been customized <code>true</code>, <code>false</code> gwp string <code>\"N\"</code> gwpSku string isCrossSell string Whether or not the item is cross sell eligible isEngravable string Whether or not the item is engravable isMonogrammable string Whether or not the item is monogrammable mfr string Manufacturer of the item mfrItemNum string ID used by manufacturer name string Product name <code>\"SloanTangoSmallQuilted-LeatherShoulderBag\"</code> pricePer number Displayed unit price of item priceType string Type of price displayed to user <code>\"List\"</code>, <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> size string Size code <code>\"LARGE\"</code>, <code>\"12\"</code> skuVariants array See SKU Variants Array below upc string Universal purchase code ID"},{"location":"page-load/shoppingCartPages/#cross-sell-group-properties","title":"Cross Sell Group Properties","text":"Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of productCount string Number of products in the group <code>\"3\"</code> strategy string Cross sell strategy used <code>\"We Think You Will Love\"</code>, <code>\"Recently Viewed\"</code>"},{"location":"page-load/shoppingCartPages/#cross-sell-group-product-properties","title":"Cross Sell Group Product Properties","text":"<p>The members of the Cross Sell Group array are subsets of the <code>product</code> object. |Field|Type|Description|Examples|Pattern|Min Length|Max Length|Min|Max|Multiple Of| |-----|----|-----------|--------|-------|----------|----------|---|---|-----------| |displayIndex|integer|Order in which the item was displayed|<code>0</code>, <code>1</code>, <code>2</code>||||||| |mfr|string|Manufacturer of the item|||||||| |mfrItemNum|string|ID used by manufacturer|||||||| |productID|string|Product ID|<code>\"4952115\"</code>|||||||</p>"},{"location":"page-load/shoppingCartPages/#notes","title":"Notes","text":"<ol> <li>Present Launch page load is scraping the DOM to align price info with products in the data layer. It\u2019s super fragile and WILL break.</li> <li>The addition of Kors Custom items (with <code>baseItems</code> and outfit groupings) has made the DOM scraping more difficult and trouble prone.</li> <li>The addition of \u201cThe Look\u201d has added to the complexity.</li> <li><code>priceType</code> by product has been on the list for inclusion for quite some time.</li> <li>I anticipate that shipping method (ship to store vs ship to address) will also be an ask from the analytics team.</li> <li>Present Launch code does not track <code>crossSells</code> shown at the bottom of the cart. An object is added here, matching the structure of <code>crossSells</code> on PDP.</li> </ol> <p>I would suggest that we have a discussion around what data exists in the application state about shopping carts and the products within? If we had this understanding, we could better advise the mapping to the data layer.</p>"},{"location":"schemas/","title":"Schemas","text":"<p>All data passed into the data layer should adhere to a consistent structure and syntax.</p> <p>The schemas provided are intended to guide how data should be structured and which properties are available for common data layer objects.</p>"},{"location":"schemas/Page/","title":"Page","text":"<p>The <code>page</code> object is the basic building block of all pages. It should be present on every page of the site. It contains basic information that is required for accurate pageview tracking.</p>"},{"location":"schemas/Page/#code-example","title":"Code Example","text":"<pre><code>window.mkorsData = {\npage: {\nbreadcrumb: \"home.html\",\nchannel: \"Home Page\",\ncountryLanguage: \"US:en\",\nname: \"Home Page\",\nregion: \"NA\",\nresponsiveView: \"large\",\nsiteSectionLevel2: \"Home Page\",\nsiteSectionLevel3: \"Home Page\",\nsiteType: \"desktop:ecommerce\",\ntype: \"Home Page\"\n}\n}\n</code></pre>"},{"location":"schemas/Page/#page-properties","title":"Page Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of breadcrumb string Yes Path to current page <code>\"/sloan-tango-small-quilted-leather-shoulder-bag/_/R-US_12AB34CD56EF\"</code> channel string Yes Marketing channel <code>\"HANDBAGS\"</code> countryLanguage string Yes i18n language <code>\"US:en\"</code> name string Yes Name of current page <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> navigation string No Global navigation path <code>\"MK:Top Nav &gt; WOMEN &gt; HANDBAGS &gt; SHOULDER BAGS\"</code> region string Yes Geographic region <code>\"NA\"</code>, <code>\"EU\"</code> responsiveView string Yes Responsive view size <code>\"xsmall\"</code>, <code>\"small\"</code>, <code>\"medium\"</code>, <code>\"large\"</code> siteSectionLevel2 string No <code>\"Home &gt; HANDBAGS\"</code> siteSectionLevel3 string No <code>\"Home &gt; HANDBAGS &gt; SHOULDER BAGS &gt; SloanTangoSmallQuilted-LeatherShoulderBag\"</code> siteType string No Legacy site type <code>\"responsive:ecommerce\"</code> type string Yes Type of page <code>\"Home Page\"</code>"},{"location":"schemas/Page/#json-schema","title":"JSON Schema","text":"<pre><code>{\n\"$schema\": \"http://json-schema.org/draft-07/schema#\",\n\"title\": \"Page\",\n\"type\": \"object\",\n\"properties\": {\n\"breadcrumb\": {\n\"type\": \"string\"\n},\n\"channel\": {\n\"type\": \"string\"\n},\n\"countryLanguage\": {\n\"type\": \"string\"\n},\n\"name\": {\n\"type\": \"string\"\n},\n\"navigation\": {\n\"type\": \"string\"\n},\n\"region\": {\n\"type\": \"string\"\n},\n\"responsiveView\": {\n\"enum\": [\n\"xsmall\",\n\"small\",\n\"medium\",\n\"large\"\n],\n\"type\": \"string\"\n},\n\"siteSectionLevel2\": {\n\"type\": \"string\"\n},\n\"siteSectionLevel3\": {\n\"type\": \"string\"\n},\n\"siteType\": {\n\"type\": \"string\"\n},\n\"type\": {\n\"type\": \"string\"\n}\n},\n\"additionalProperties\": false,\n\"required\": [\n\"breadcrumb\",\n\"channel\"\n]\n}\n</code></pre>"},{"location":"schemas/Product/","title":"Product","text":"<p>The <code>product</code> array is an array of one more more objects, each describing a single product displayed on a page or screen.</p> <p>Depending on the context, objects in the <code>product</code> array may contain additional properties (e.g. <code>pickUpInStore</code> is only applicable upon order confirmation). However, there is core set of properties which must always be present in order for accurate data collection to take place.</p>"},{"location":"schemas/Product/#code-example","title":"Code Example","text":"<pre><code>{\n\"product\": [\n{\n\"SkuVariants\": [\n{\n\"availability\": \"&lt;availability&gt;\",\n\"basePrice\": \"&lt;basePrice&gt;\",\n\"color\": \"&lt;color&gt;\",\n\"pricePer\": \"&lt;pricePer&gt;\",\n\"priceType\": \"&lt;priceType&gt;\",\n\"productID\": \"&lt;productID&gt;\",\n\"size\": \"&lt;size&gt;\"\n}\n],\n\"availability\": \"&lt;availability&gt;\",\n\"basePrice\": \"&lt;basePrice&gt;\",\n\"categoryID\": \"&lt;categoryID&gt;\",\n\"categoryName\": \"&lt;categoryName&gt;\",\n\"color\": \"&lt;color&gt;\",\n\"crossSellCartridge\": \"&lt;crossSellCartridge&gt;\",\n\"gwp\": \"&lt;gwp&gt;\",\n\"gwpSku\": \"&lt;gwpSku&gt;\",\n\"isCrossSell\": \"&lt;isCrossSell&gt;\",\n\"isEngravable\": \"&lt;isEngravable&gt;\",\n\"isMonogrammable\": \"&lt;isMonogrammable&gt;\",\n\"keywords\": \"&lt;keywords&gt;\",\n\"lookID\": \"&lt;lookID&gt;\",\n\"mfr\": \"&lt;mfr&gt;\",\n\"mfrItemNum\": \"&lt;mfrItemNum&gt;\",\n\"name\": \"&lt;name&gt;\",\n\"outfitID\": \"&lt;outfitID&gt;\",\n\"pickUpInStore\": \"&lt;pickUpInStore&gt;\",\n\"pickUpStoreID\": \"&lt;pickUpInStore&gt;\",\n\"pickUpStoreName\": \"&lt;pickUpStoreName&gt;\",\n\"pricePer\": \"&lt;pricePer&gt;\",\n\"priceType\": \"&lt;priceType&gt;\",\n\"productID\": \"&lt;productID&gt;\",\n\"qtyAvailable\": \"&lt;qtyAvailable&gt;\",\n\"quantity\": \"&lt;quantity&gt;\",\n\"shippingMethod\": \"&lt;shippingMethod&gt;\",\n\"storeID\": \"&lt;storeID&gt;\",\n\"upc\": \"&lt;upc&gt;\"\n}\n]\n};\n</code></pre>"},{"location":"schemas/Product/#product-properties","title":"Product Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of availability boolean If available Whether or not the product is available for purchase <code>true</code>, <code>false</code> basePrice number Yes Base unit price of item <code>445.00</code> categoryID string Yes SFCC category ID <code>\"cat20009\"</code> categoryName string Yes Name of category <code>\"new_arrivals\"</code> color string Only if the product has a color choice Color code <code>\"black\"</code> crossSellCartridge string ? ? customized boolean Yes Whether or not the item has been customized <code>true</code>, <code>false</code> displayIndex number If available The order in which the product was displayed on the page <code>5</code> engraved boolean If available Whether or not the customer added an engraving <code>true</code>, <code>false</code> gwp boolean ? ? <code>true</code>, <code>false</code> gwpSku string ? ? isBaseItem boolean Whether the item is the base item <code>true</code>, <code>false</code> isCrossSell boolean Yes Whether or not the item is cross sell eligible <code>true</code>, <code>false</code> isEngravable boolean Yes Whether or not the item is engravable <code>true</code>, <code>false</code> isMonogrammable boolean Yes Whether or not the item is monogrammable <code>true</code>, <code>false</code> lookID string If available The ID of the look with which the item is associated mfr string Yes Manufacturer of the item <code>\"MICHAEL KORS\"</code> mfrItemNum string Yes ID used by manufacturer <code>\"30H6GRXE3L\"</code> monogrammed boolean If available Whether the item has had a monogram added to it <code>true</code>, <code>false</code> name string Yes Product name <code>\"SloanTangoSmallQuilted-LeatherShoulderBag\"</code> outfitID string If available The outfit ID <code>\"12345\"</code> pickUpInStore boolean Only on Order Confirmation screen Whether the customer chose to pick up the item at the store instead of having it shipped <code>true</code>, <code>false</code> pickUpStoreID string Only if <code>pickUpInStore</code> is <code>true</code> The ID of the store where the customer chose to pick up the item <code>\"637\"</code> pickUpStoreName string Only if <code>pickUpInStore</code> is <code>true</code> The name of the store where the customer chose to pick up the item <code>\"MICHAEL KORS TACOMA\"</code> pricePer number Yes Displayed unit price of item <code>445.00</code> priceType string Yes Type of price displayed to user <code>\"list\"</code>, <code>\"markdown\"</code> productID string Yes Product ID <code>\"4952115\"</code> qtyAvailable number No How many of the item is left in stock <code>23</code> quantity number No How many of the item were added to the cart <code>1</code> size string Only if product has a size choice Size code <code>\"large\"</code>, <code>\"12\"</code> shippingMethod string Only where available The method by which the customer chose to have the item shipped <code>\"ground\"</code>, <code>\"next_day\"</code>, <code>\"pickup\"</code> skuVariants array See SKU Variants Array below storeID string No ID of the store where the customer chose to pick up the itemNOTE: this conflicts with <code>pickUpStoreID</code> above! upc string Yes Universal purchase code ID <code>\"194900989333\"</code>"},{"location":"schemas/Product/#sku-variants-array","title":"SKU Variants Array","text":"<p>The SKU Variants array contains objects which have a subset of Product properties, and which describe variants of the displayed product. For example, if a pair of boots is available in multiple colors, the default information is loaded in the main <code>products</code> object, and details about variants are loaded as objects in the <code>SkuVariants</code> array.</p> Field Type Description Examples Pattern Min Length Max Length Min Max Multiple Of basePrice number Base unit price of item <code>445.0</code> 0.00 color string Color code <code>\"BLACK\"</code>, <code>\"RED/BROWN\"</code> pricePer number Displayed unit price of item <code>445.0</code> priceType string Type of price displayed to user <code>\"Markdown\"</code> productID string Product ID <code>\"4952115\"</code> size string Size code <code>\"ONE SIZE\"</code>, <code>\"LARGE\"</code>, <code>\"12\"</code>"},{"location":"schemas/Product/#json-schema","title":"JSON Schema","text":"<pre><code>{\n\"$schema\": \"http://json-schema.org/draft-07/schema#\",\n\"title\": \"Product\",\n\"type\": \"object\",\n\"properties\": {\n\"basePrice\": {\n\"type\": \"number\"\n}\n},\n\"additionalProperties\": false,\n\"required\": [\"basePrice\"]\n}\n</code></pre>"},{"location":"schemas/User/","title":"User","text":"<p>The <code>user</code> array describes one or more user profiles of one or more users who have logged into the site using the current browser.</p> <p>Due to the way the CEDDL spec is written, this may be a bit confusing.</p>"},{"location":"schemas/User/#code-example","title":"Code Example","text":"<pre><code>{\n\"user\": [\n{\n\"profile\": [\n{\n\"profileInfo\": {\n\"applePayEnabled\": true,\n\"customerType\": \"customer\",\n\"emailOptIn\": true,\n\"hashedID\": \"7ddb5eae16468674b843f396b335a7dd\",\n\"hashedID2\": \"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\",\n\"loginStatus\": \"logged_in\",\n\"loyaltyOptIn\": true,\n\"loyaltyTier\": \"studio\",\n\"type\": \"registered\"\n}\n}\n]\n}\n]\n}\n</code></pre>"},{"location":"schemas/User/#user-properties","title":"User Properties","text":"<p>The <code>user</code> array contains objects which describe individual users. In most cases there will only ever be a single object.</p>"},{"location":"schemas/User/#profile-properties","title":"Profile Properties","text":"<p>The <code>profile</code> array contains objects which describe one or more profiles associated with a user. Again, this will almost always be one. Objects in this array themselves have only a single property, <code>profileInfo</code> (see below).</p>"},{"location":"schemas/User/#profile-info-properties","title":"Profile Info Properties","text":"Field Type Required Description Examples Pattern Min Length Max Length Min Max Multiple Of applePayEnabled boolean Yes if logged in Whether or not the user has Apple Pay enabled <code>true</code>, <code>false</code> customerType string Yes if logged in Customer type <code>\"customer\"</code>, <code>\"employee\"</code>, <code>\"associate\"</code> emailOptIn boolean Yes if logged in Whether the user has confirmed email opt in <code>true</code>, <code>false</code> hashedID string Yes if logged in md5 hash of email address <code>\"7ddb5eae16468674b843f396b335a7dd\"</code> hashedID2 string Yes if logged in sha256 hash of email address <code>\"jknhjbebgo8y5oy6obv7b6bo8wowobv8757384ybof87bv5g4\"</code> loginStatus string Yes Customer login status <code>\"logged_in\"</code>, <code>\"logged_out\"</code> loyaltyOptIn boolean Yes if logged in Whether the user has opted into the MK customer loyalty program <code>true</code>, <code>false</code> loyaltyTier string Yes if logged in Customer loyalty tier <code>\"studio\"</code>, <code>\"backstage\"</code>, <code>\"runway\"</code>, <code>\"red_carpet\"</code>, <code>\"non-loyalty\"</code> type string Yes User type <code>\"guest\"</code>, <code>\"registered\"</code>, <code>\"loyalist\"</code>"}]}